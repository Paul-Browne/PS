!function(n,r){var t={};n.PS=t;n.define;!function(a){var s={},e=-1;function u(n){var r;for(r in n)if(n.hasOwnProperty(r))return!0;return!1}function f(n,r,t){try{n(r,t)}catch(n){setTimeout((e=n,function(){throw e}),0)}var e}function c(n,r,t){var e,o=s[r];if(s.hasOwnProperty(r))for(e in o)o.hasOwnProperty(e)&&f(o[e],n,t)}a.pub=function(n,r){return function(o,n,r,t){o="symbol"==typeof o?o.toString():o;var e,f,i=(e=o,f=n,function(){var n=String(e),r=n.lastIndexOf(".");for(c(e,e,f);-1!==r;)r=(n=n.substr(0,r)).lastIndexOf("."),c(e,n,f)});return!!function(n){for(var r=String(o),t=Boolean(s.hasOwnProperty(r)&&u(s[r])),e=r.lastIndexOf(".");!t&&-1!==e;)e=(r=r.substr(0,e)).lastIndexOf("."),t=Boolean(s.hasOwnProperty(r)&&u(s[r]));return t}()&&(!0===r?i():setTimeout(i,0),!0)}(n,r,!1)},a.sub=function(n,r){if("function"!=typeof r)return!1;n="symbol"==typeof n?n.toString():n,s.hasOwnProperty(n)||(s[n]={});var t="uid_"+String(++e);return s[n][t]=r,t},a.clearAll=function(){s={}},a.clearSub=function(n){var r;for(r in s)s.hasOwnProperty(r)&&0===r.indexOf(n)&&delete s[r]},a.unsub=function(n){var r,t,e,o="string"==typeof n&&(s.hasOwnProperty(n)||function(n){var r;for(r in s)if(s.hasOwnProperty(r)&&0===r.indexOf(n))return!0;return!1}(n)),f=!o&&"string"==typeof n,i="function"==typeof n,u=!1;if(!o){for(r in s)if(s.hasOwnProperty(r)){if(t=s[r],f&&t[n]){delete t[n],u=n;break}if(i)for(e in t)t.hasOwnProperty(e)&&t[e]===n&&(delete t[e],u=!0)}return u}a.clearSub(n)}}(t)}(window);
